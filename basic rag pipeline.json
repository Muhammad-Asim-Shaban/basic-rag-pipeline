{
  "name": "My workflow 3",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "c38812b9-e01b-4d08-baf8-df0ab1c1cd2c",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "1n_HcRVVObh60P7DIgEo00OHSH2UmghUO",
          "mode": "list",
          "cachedResultName": "Rules_of_Golf_Simplified.pdf",
          "cachedResultUrl": "https://drive.google.com/file/d/1n_HcRVVObh60P7DIgEo00OHSH2UmghUO/view?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        208,
        0
      ],
      "id": "8c2a9056-c053-4679-892a-d659e7a36224",
      "name": "Download file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "chOAHVFyAj95s3KD",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        416,
        0
      ],
      "id": "f7bfcf8d-ba00-4bd6-b22d-9efd4bafbee6",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "VUBogtH4D88XxuQt",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        560,
        208
      ],
      "id": "126be739-fb31-4908-b45e-71b41e8be6b6",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsHuggingFaceInference",
      "typeVersion": 1,
      "position": [
        336,
        192
      ],
      "id": "b4c463b3-4cc3-4683-89ae-f75a306dce33",
      "name": "Embeddings HuggingFace Inference",
      "credentials": {
        "huggingFaceApi": {
          "id": "BnzeDl8iFNGzHhUb",
          "name": "HuggingFaceApi account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful assistant for finding the information of the golf.\nTools:\nyou have the access of the supabase vector store that you can fetch the information of the golf."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        208,
        -336
      ],
      "id": "1c218c43-59fe-4f72-b7b8-7aad1aa00405",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        -32,
        -336
      ],
      "id": "2ae6fe36-80cc-44a7-8248-cbc59e60e528",
      "name": "When chat message received",
      "webhookId": "652a50c4-cc85-4396-8701-c78818b36e0d"
    },
    {
      "parameters": {
        "model": "deepseek-v3.1:671b",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "typeVersion": 1,
      "position": [
        80,
        -128
      ],
      "id": "be021c5a-5556-45c5-8914-81389966fb6b",
      "name": "Ollama Chat Model",
      "credentials": {
        "ollamaApi": {
          "id": "jf2hZWlUp53mq9rF",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "call this tool to look up the rules of golf.",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        672,
        -288
      ],
      "id": "d81fdddc-a407-4958-97f7-2fb168a2f849",
      "name": "Supabase Vector Store1",
      "credentials": {
        "supabaseApi": {
          "id": "VUBogtH4D88XxuQt",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        224,
        -128
      ],
      "id": "d7ee7029-3979-4e46-a099-9a9bc8e917b1",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "nxDkeoIEkEspeywG",
          "name": "Postgres account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Download file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings HuggingFace Inference": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          },
          {
            "node": "Supabase Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ollama Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "versionId": "b02be1b5-8194-48df-8af0-2a218cabec93",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0d088d13bb968c2264df8283dee252adb869f21b1abdbca80887cac29b98e374"
  },
  "id": "ZdIRx87hhiwu7jx6",
  "tags": []
}